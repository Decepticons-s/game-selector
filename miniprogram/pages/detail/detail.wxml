<view class="container" wx:if="{{!loading && game}}">
  <!-- 封面图 -->
  <image
    class="cover-image"
    src="{{game.coverImage || '/images/default-cover.png'}}"
    mode="aspectFill"
    data-url="{{game.coverImage}}"
    bindtap="previewImage"
  ></image>

  <!-- 游戏信息 -->
  <view class="game-info">
    <text class="game-name">{{game.name}}</text>

    <view class="meta-row">
      <view class="meta-item">
        <text class="meta-label">适合人数</text>
        <text class="meta-value">{{game.playerCount.min}}-{{game.playerCount.max}}人</text>
      </view>
      <view class="meta-item">
        <text class="meta-label">游戏时长</text>
        <text class="meta-value">{{game.duration}}分钟</text>
      </view>
      <view class="meta-item">
        <text class="meta-label">难度</text>
        <text class="meta-value">
          {{game.difficulty === 'easy' ? '简单' : game.difficulty === 'medium' ? '中等' : '困难'}}
        </text>
      </view>
    </view>

    <!-- 标签 -->
    <view class="tags" wx:if="{{game.tags && game.tags.length > 0}}">
      <text class="tag" wx:for="{{game.tags}}" wx:key="index">{{item}}</text>
    </view>

    <!-- 描述 -->
    <view class="description">
      <text class="section-title">游戏介绍</text>
      <text class="description-text">{{game.description}}</text>
    </view>

    <!-- 详情图片 -->
    <view class="images" wx:if="{{game.images && game.images.length > 0}}">
      <text class="section-title">游戏图片</text>
      <view class="images-grid">
        <image
          class="detail-image"
          wx:for="{{game.images}}"
          wx:key="index"
          src="{{item}}"
          mode="aspectFill"
          data-url="{{item}}"
          bindtap="previewImage"
        ></image>
      </view>
    </view>

    <!-- 视频 -->
    <view class="videos" wx:if="{{game.videos && game.videos.length > 0}}">
      <text class="section-title">教学视频</text>
      <view class="video-list">
        <view class="video-item" wx:for="{{game.videos}}" wx:key="index">
          <video
            class="video-player"
            src="{{item.url}}"
            controls
            show-center-play-btn
          ></video>
          <text class="video-title" wx:if="{{item.title}}">{{item.title}}</text>
        </view>
      </view>
    </view>
  </view>

  <!-- 底部按钮 -->
  <view class="bottom-actions">
    <button class="action-btn" bindtap="drawAgain">再抽一次</button>
  </view>
</view>

<!-- 加载中 -->
<view class="loading-container" wx:if="{{loading}}">
  <text class="loading-text">加载中...</text>
</view>
